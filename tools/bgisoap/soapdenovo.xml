<tool id="soapdenovo" name="SOAPdenovo" version="1.0.0">
  <description>SOAPdenovo</description>
  <command interpreter="python">
    soapdenovo.py
      --command_select=$command_select
      --config_file=$config_file
      --output_prefix=$output_prefix
  </command>
  <inputs>
    <param name="command_select" type="select" format="text" label="Select kmer version" 
    help="Support large kmer up to 127 to utilize long reads. Three version are provided.
Please notice that, with longer kmer, the quantity of nodes would decrease significantly, thus the memory consumption is usually smaller than double with shifted version.">
        <option value="31mer">31mer Version</option>
        <option value="63mer">63mer Version</option>
        <option value="127mer">127mer Version</option>
    </param>
    <param name="config_file" type="data" format="input" label="SOAPdenovo configuration file"/>
  </inputs>
  <outputs>
    <data format="tabular" name="output_prefix">
        <change_format>
            <when input="interval" value="Yes" format="interval" />
        </change_format>
   </data>
  </outputs>
  <tests>
    <test>
      <output name="output_prefix" file="test.consensus"/>
  </test>

 </tests>
<help>

**What it does**
SOAPsnp is a member of the SOAP (Short Oligonucleotide Analysis Package). Despite its name, the program is a resequencing utility that can assemble consensus sequence for the genome of a newly sequenced individual based on the alignment of the raw sequencing reads on the known reference. The SNPs can then be identified on the consensus sequence through the comparison with the reference. In the first Asian genome re-sequencing project, evalution of SOAPsnp result on Illumina HapMap 1M BeadChip Duo genotyping sites shows great accuracy. Over 99% of the genotyping sites are covered at over 99.9% consistency. Further PCR plus Sanger sequencing of the inconsistent SNP sites confirmed majority of the SOAPsnp results.

SOAPsnp uses a method based on Bayes'theorem (the reverse probability model) to call consensus genotype by carefully considering the data quality, alignment, and recurring experimental errors. All these kinds of information was integrated into a single quality score for each base in PHRED scale to measure the accuracy of consensus calling. Currently, it supports the alignment format of SOAPaligner.
 
</help>
</tool>
